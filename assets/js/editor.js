(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,a=window.wp.plugins,s=window.wp.editPost,n=window.wp.compose,i=window.wp.data,l=window.wp.i18n,r={logo:(0,t.createElement)("svg",{className:"swt-page-settings-button",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 70 70",fill:"none"}," ",(0,t.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35 70C54.33 70 70 54.33 70 35C70 15.67 54.33 0 35 0C15.67 0 0 15.67 0 35C0 54.33 15.67 70 35 70ZM24.4471 23.5112C18.9722 26.7403 20.2852 35.3759 26.5032 37.0351L36.8875 39.806C37.7533 40.037 37.91 41.224 37.135 41.6811L27.0972 47.5799L26.036 58L45.5529 46.4888C51.0278 43.2597 49.7148 34.6241 43.4968 32.9649L33.1125 30.1941C32.2467 29.963 32.09 28.776 32.865 28.3189L42.9028 22.4202L43.964 12L24.4471 23.5112Z"})," ")};function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},o.apply(this,arguments)}const c=window.wp.components,d=window.wp.blockEditor,p=window.wp.hooks,u=e=>{let a,s;return e.hasOwnProperty("setAttributes")?(a=!(!e?.attributes?.SWTStickyHeader||!e.attributes.SWTStickyHeader),s=!(!e?.attributes?.SWTTransparentHeader||!e.attributes.SWTTransparentHeader)):(a=!(!e?.meta._swt_meta_sticky_header||!e.meta._swt_meta_sticky_header),s=!(!e?.meta._swt_meta_transparent_header||!e.meta._swt_meta_transparent_header)),(0,t.createElement)(t.Fragment,null,!s&&(0,t.createElement)(c.PanelRow,null,(0,t.createElement)(c.ToggleControl,{label:(0,l.__)("Enable Sticky Header","spectra-one"),help:a?(0,l.__)("Transparent header option will be disabled on enabling this option.","spectra-one"):"",checked:a,onChange:t=>e.hasOwnProperty("setAttributes")?e.setAttributes({SWTStickyHeader:!a}):e.setMetaFieldValue(t,"_swt_meta_sticky_header")})),!a&&(0,t.createElement)(c.PanelRow,null,(0,t.createElement)(c.ToggleControl,{label:(0,l.__)("Enable Transparent Header","spectra-one"),help:s?(0,l.__)("Sticky header option will be disabled on enabling this option.","spectra-one"):"",checked:s,onChange:t=>e.hasOwnProperty("setAttributes")?e.setAttributes({SWTTransparentHeader:!s}):e.setMetaFieldValue(t,"_swt_meta_transparent_header")})))},m=(0,n.createHigherOrderComponent)((e=>a=>{const{attributes:s,name:n}=a;return s?.tagName&&"header"===s.tagName&&"core/template-part"===n?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,a),(0,t.createElement)(d.InspectorControls,null,(0,t.createElement)(c.Panel,null,(0,t.createElement)(c.PanelBody,{title:"Header Settings",initialOpen:!0},(0,t.createElement)(u,a))))):(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,a))}),"Header");(0,p.addFilter)("editor.BlockEdit","swt/header",m),(0,p.addFilter)("blocks.registerBlockType","swt/header-attributes",(function(e){return["core/template-part"].includes(e.name)&&e.attributes&&(e.attributes=Object.assign(e.attributes,{SWTStickyHeader:{type:"boolean",default:!1},SWTTransparentHeader:{type:"boolean",default:!1}})),e}));const g=(0,n.createHigherOrderComponent)((e=>a=>{const{name:s,attributes:n}=a;if(["core/template-part"].includes(s)){const{SWTTransparentHeader:s}=n,i="\n\t\t\t\t.block-editor-block-list__block.swt-transparent-header {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tz-index: 999;\n\t\t\t\t\tmargin-top: 0;\n\t\t\t\t}\n\n\t\t\t\t.swt-transparent-header > .has-background {\n\t\t\t\t\tbackground: transparent !important;\n\t\t\t\t}\n\t\t\t";return(0,t.createElement)(t.Fragment,null,s&&(0,t.createElement)("style",null,i),(0,t.createElement)(e,o({},a,{className:`${a?.className?`${a.className} `:""}${s?"swt-transparent-header ":""}`})))}return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,a))}),"HeaderCss");(0,p.addFilter)("editor.BlockListBlock","swt/header-css",g);const b=window.React;async function w(e){return new Promise((t=>{wp.updates.ajax("install-plugin",{slug:e,success:()=>{t({success:!0})},error:e=>{t({success:!1,code:e.errorCode})}})}))}async function h(e){try{if(200===(await fetch(e)).status)return{success:!0}}catch(e){return{success:!1}}}const _=()=>{const{activationUrl:e,pluginSlug:a,pluginStatus:s}=spectraOne;let n=[];"activated"!==s&&"installed"===s&&(n={initialText:"Activate Spectra",progressText:"Activating Spectra...",errorText:"Error activating Spectra",SuccessText:"Spectra Activated"}),"installed"!==s&&"activated"!==s&&(n={initialText:"Install & Activate Spectra",progressText:"Installing & Activating Spectra...",errorText:"Error installing Spectra",SuccessText:"Spectra Installed & Activated"});const{initialText:i,progressText:r,errorText:o,SuccessText:d}=n,[p,u]=(0,b.useState)(!1),[m,g]=(0,b.useState)(i),[_,y]=(0,b.useState)(!1),E=async e=>{!0===(await h(e)).success?(u(!1),g(d),location.reload()):(g(o),u(!1),setTimeout((()=>{g(d),u(!1),y(!1)}),2e3))};return(0,t.createElement)(c.PanelBody,{title:(0,l.__)("Spectra plugin","spectra-one"),initialOpen:!0},(0,t.createElement)("p",null,(0,l.__)("Power-up your website with advanced and powerful blocks that help you build websites in no time!","spectra-one")),(0,t.createElement)(c.Button,{className:`swt-full-width-btn ${!0===p?"is-busy ":""} `,onClick:()=>(async(e,t)=>{if(!1===_)if(g(r),u(!0),y(!0),"activated"!==s&&"installed"===s)E(t);else try{await w(e),E(t)}catch(e){"folder_exists"===e.errorCode&&E(t)}})(a,e),isPrimary:!0,"aria-disabled":_},m))},y=e=>{const a=Object.entries(spectraOne.disable_sections).map((a=>{let[s,n]=a;const i=!(!e?.meta[n.key]||!e.meta[n.key]);return(0,t.createElement)(c.PanelRow,{key:s},(0,t.createElement)(c.ToggleControl,{key:s,label:n.label,checked:i,onChange:t=>{e.setMetaFieldValue(t,n.key)}}))}));return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(c.PanelBody,{title:(0,l.__)("Disable Elements","spectra-one"),initialOpen:!0,className:"swt-disable-elements-panel"},a),!e?.meta?._swt_meta_header_display&&(0,t.createElement)(c.PanelBody,{title:(0,l.__)("Header Settings","spectra-one"),initialOpen:!0,className:"swt-header-settings-panel"},(0,t.createElement)(u,o({},e,spectraOne.header_settings))),"activated"!==spectraOne.pluginStatus&&(0,t.createElement)(_,e))},E=(0,n.compose)((0,i.withSelect)((e=>{const t=e("core/editor").getEditedPostAttribute("meta"),a=e("core/editor").getCurrentPostAttribute("meta");return{meta:{...a,...t},oldMeta:a}})),(0,i.withDispatch)((e=>({setMetaFieldValue:(t,a)=>e("core/editor").editPost({meta:{[a]:t}})}))))((e=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)(s.PluginSidebarMoreMenuItem,{target:"swt-page-settings-panel",icon:r.logo},(0,l.__)("Spectra Page Settings","spectra-one")),(0,t.createElement)(s.PluginSidebar,{isPinnable:!0,icon:r.logo,name:"swt-page-settings-panel",title:(0,l.__)("Spectra Page Settings","spectra-one"),className:"swt-sidebar"},(0,t.createElement)(y,e)))));window.addEventListener("load",(function(){(0,i.subscribe)((function(){setTimeout((function(){const e=document.querySelector(".editor-styles-wrapper");null!==e&&(parseInt(e.offsetWidth)<1350?(e.classList.remove("swt-stacked-title-visibility"),e.classList.add("swt-stacked-title-visibility")):e.classList.remove("swt-stacked-title-visibility"));const t=document.querySelector(".title-visibility"),a=document.querySelector(".edit-post-visual-editor__post-title-wrapper");if(null===t&&null!==a){let e="";(0,i.select)("core/editor").getEditedPostAttribute("meta")?._swt_meta_site_title_display&&!0===(0,i.select)("core/editor").getEditedPostAttribute("meta")._swt_meta_site_title_display?(e='<span class="dashicons dashicons-hidden title-visibility" data-tooltip="Enable Title"></span>',a.classList.toggle("invisible")):e='<span class="dashicons dashicons-visibility title-visibility" data-tooltip="Disable Title"></span>',a.insertAdjacentHTML("beforeend",e),document.querySelector(".title-visibility").addEventListener("click",(function(){a.classList.toggle("invisible"),this.classList.contains("dashicons-hidden")?(this.classList.add("dashicons-visibility"),this.classList.remove("dashicons-hidden"),this.dataset.tooltip="Disable Title",(0,i.dispatch)("core/editor").editPost({meta:{_swt_meta_site_title_display:!1}})):(this.classList.add("dashicons-hidden"),this.classList.remove("dashicons-visibility"),this.dataset.tooltip="Enable Title",(0,i.dispatch)("core/editor").editPost({meta:{_swt_meta_site_title_display:!0}}))}))}const s=document.querySelector(".editor-post-title__input"),n=document.querySelector(".title-visibility");null!==s&&null!==n&&(document.addEventListener("click",(function(e){a.contains(e.target)||(n.classList.remove("swt-show-visibility-icon"),s.classList.remove("swt-show-editor-title-outline"))})),document.addEventListener("visibilitychange",(function(){n.classList.remove("swt-show-visibility-icon"),s.classList.remove("swt-show-editor-title-outline")})),a.addEventListener("focusout",(function(){n.classList.remove("swt-show-visibility-icon"),s.classList.remove("swt-show-editor-title-outline")})),a.addEventListener("click",(function(){n.classList.add("swt-show-visibility-icon"),s.classList.add("swt-show-editor-title-outline")})),s.addEventListener("input",(function(){n.classList.add("swt-show-visibility-icon"),this.classList.add("swt-show-editor-title-outline")}))),document.querySelectorAll(".is-tablet-preview, .is-mobile-preview").length?document.body.classList.add("responsive-enabled"):document.body.classList.remove("responsive-enabled")}),1)}))}));const v=["core/archives","core/calendar","core/latest-comments","core/tag-cloud","core/rss"],S=(0,n.createHigherOrderComponent)((e=>a=>{const{attributes:s,name:n,setAttributes:i}=a,{SWTHideDesktop:r,SWTHideTab:o,SWTHideMob:p}=s;return n&&n.includes("core/")&&!v.includes(n)?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,a),(0,t.createElement)(d.InspectorControls,null,(0,t.createElement)(c.Panel,null,(0,t.createElement)(c.PanelBody,{title:"Responsive Settings",initialOpen:!0},(0,t.createElement)(c.PanelRow,null,(0,t.createElement)(c.ToggleControl,{label:(0,l.__)("Hide Desktop","spectra-one"),checked:r,onChange:()=>i({SWTHideDesktop:!r})})),(0,t.createElement)(c.PanelRow,null,(0,t.createElement)(c.ToggleControl,{label:(0,l.__)("Hide Tablet","spectra-one"),checked:o,onChange:()=>i({SWTHideTab:!o})})),(0,t.createElement)(c.PanelRow,null,(0,t.createElement)(c.ToggleControl,{label:(0,l.__)("Hide Mobile","spectra-one"),checked:p,onChange:()=>i({SWTHideMob:!p})})))))):(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,a))}),"Responsive");(0,p.addFilter)("editor.BlockEdit","swt/responsive",S),(0,p.addFilter)("blocks.registerBlockType","swt/responsive-attributes",(function(e){const{name:t,attributes:a}=e;return t&&t.includes("core/")&&!v.includes(t)&&a&&(e.attributes=Object.assign(a,{SWTHideDesktop:{type:"boolean",default:!1},SWTHideTab:{type:"boolean",default:!1},SWTHideMob:{type:"boolean",default:!1}})),e}));const k=(0,n.createHigherOrderComponent)((e=>a=>{const{name:s,attributes:n}=a;if(s&&s.includes("core/")&&!v.includes(s)){const{SWTHideDesktop:s,SWTHideTab:i,SWTHideMob:l}=n;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,o({},a,{className:`${a?.className?`${a.className} `:""}${s?"swt-hide-desktop ":""}${i?"swt-hide-tablet ":""}${l?"swt-hide-mobile ":""}`})))}return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,a))}),"responsiveCss");(0,p.addFilter)("editor.BlockListBlock","swt/responsive-css",k);const T=(0,n.createHigherOrderComponent)((e=>a=>{const{name:s,attributes:n}=a;if("core/latest-posts"!==s)return(0,t.createElement)(e,a);const{displayFeaturedImage:i}=n;return(0,t.createElement)(e,o({},a,{className:`${a?.className?`${a.className} `:""}${i?"swt-has-featured-image ":""}`}))}),"latestPostList");(0,p.addFilter)("editor.BlockListBlock","swt/latest-post-list",T);const f=window.wp.editSite,L=e=>{let{setting:a,setSetting:s,id:n,setData:l,notice:r,label:o}=e;const d=(0,b.useCallback)((()=>{s({...a,[n]:!a[n]}),l({...a,[n]:!a[n]}),(0,i.dispatch)("core/notices").createNotice("success",r,{type:"snackbar",isDismissible:!0})}),[a]);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(c.PanelRow,null,(0,t.createElement)(c.ToggleControl,{label:o,checked:a[n],onChange:d})))},P=window.wp.apiFetch;var C=e.n(P);(0,a.registerPlugin)("swt-editor-sidebar",{render:()=>{const[e,a]=(0,b.useState)({scroll_top:!1}),s="swt/v1/global_settings";return(0,b.useEffect)((()=>{(async()=>{try{const e=await C()({path:s,method:"GET",headers:{"content-type":"application/json","X-WP-NONCE":spectraOne.nonce}});e&&a(e)}catch(e){}})()}),[]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(f.PluginSidebar,{name:"swt-editor-sidebar",icon:r.logo,isPinnable:!0,title:(0,l.__)("Spectra Global Settings","spectra-one")},(0,t.createElement)(c.PanelBody,{title:(0,l.__)("Global features","spectra-one"),initialOpen:!0,className:"swt-global-features-panel"},(0,t.createElement)(L,{setting:e,setSetting:a,id:"scroll_top",setData:async e=>{const t={setting:e};try{await C()({path:s,method:"POST",headers:{"content-type":"application/json","X-WP-NONCE":spectraOne.nonce},body:JSON.stringify(t)})}catch(e){}},notice:(0,l.__)("Scroll to top updated","spectra-one"),label:(0,l.__)("Scroll To Top","spectra-one")}))))}});const{activating:H,installing:O,done:F,activationUrl:N,pluginSlug:W,pluginStatus:x}=spectraOne,A=async e=>{console.log(e),e.textContent=H,await h(N),e.classList.remove("updating-message"),e.classList.add("updated-message"),e.textContent=F};document.addEventListener("click",(async e=>{let t=e?.target?.className?e.target.className:"";if(t&&"string"==typeof t&&t.includes("block-editor-inserter__patterns-explore-button")){const e=`<button class="swt-template-kit-spectra components-button is-secondary">${(0,l.__)("Get more blocks with Spectra","spectra-one")}</button>`,t=document.querySelector(".block-editor-block-patterns-explorer__sidebar");t&&!t.querySelector(".swt-template-kit-spectra")&&t.insertAdjacentHTML("afterend",e)}if(t&&"string"==typeof t&&t.includes("swt-template-kit-spectra")){const t=document.querySelector("#ast-block-templates-button");"not-installed"===x&&(e.target.classList.add("updating-message"),e.target.classList.add("disabled"),e.target.textContent=O,await w(W),await A(e.target),location.reload()),"installed"===x&&(e.target.classList.add("updating-message"),e.target.classList.add("disabled"),await A(e.target),location.reload()),t&&"activated"===x&&t.click()}})),spectraOne.is_spectra_plugin&&(0,p.addFilter)("spectra.page-sidebar.before","swt/setting-list",(function(e,a){return(0,t.createElement)(t.Fragment,null,e,(0,t.createElement)(y,a))}),10),spectraOne.is_spectra_plugin||(0,a.registerPlugin)("swt-page-level-settings",{render:E})})();